{
  "script": {
    "lang": "mustache",
    "source": {
      "query": {
        "bool": {
          "should": [
            {
              "prefix": {
                "name": "{{query}}"
              }
            },
            {
              "term": {
                "nameJamoNGram": "{{query_jamo}}"
              }
            },
            {
              "term": {
                "nameJamoNGramEdge": "{{query_jamo}}"
              }
            },
            {
              "term": {
                "nameJamoNGramEdgeBack": "{{query_jamo}}"
              }
            }
          ],
          "minimum_should_match": 1
        }
      },
      "sort": [
        {
          "_score": "desc"
        }
      ]
    }
  }
}
